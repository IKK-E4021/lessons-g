<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550">
  <!-- 背景 -->
  <rect width="800" height="550" fill="#f8f9fa" />

  <!-- タイトル -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle">AI
    API統合パターン</text>

  <!-- パターン1: 直接統合 -->
  <rect x="50" y="80" width="220" height="200" rx="10" fill="#ffedd5" stroke="#c2410c" stroke-width="2" />
  <text x="160" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle"
    fill="#c2410c">直接統合パターン</text>

  <rect x="70" y="130" width="80" height="60" rx="5" fill="#fff7ed" stroke="#c2410c" stroke-width="1" />
  <text x="110" y="165" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">フロント</text>
  <text x="110" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">エンド</text>

  <line x1="150" y1="160" x2="170" y2="160" stroke="#c2410c" stroke-width="1.5" />
  <polygon points="165,157 170,160 165,163" fill="#c2410c" />

  <rect x="170" y="130" width="80" height="60" rx="5" fill="#fff7ed" stroke="#c2410c" stroke-width="1" />
  <text x="210" y="165" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">AI API</text>

  <text x="70" y="210" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 最もシンプルな統合方法</text>
  <text x="70" y="230" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• フロントエンドから直接API呼出</text>
  <text x="70" y="250" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• APIキーの保護が課題</text>
  <text x="70" y="270" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• プロトタイプや小規模アプリに適合</text>

  <!-- パターン2: バックエンド統合 -->
  <rect x="290" y="80" width="220" height="200" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" />
  <text x="400" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle"
    fill="#3b82f6">バックエンド統合パターン</text>

  <rect x="310" y="130" width="50" height="60" rx="5" fill="#eff6ff" stroke="#3b82f6" stroke-width="1" />
  <text x="335" y="165" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">フロント</text>
  <text x="335" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">エンド</text>

  <line x1="360" y1="160" x2="380" y2="160" stroke="#3b82f6" stroke-width="1.5" />
  <polygon points="375,157 380,160 375,163" fill="#3b82f6" />

  <rect x="380" y="130" width="50" height="60" rx="5" fill="#eff6ff" stroke="#3b82f6" stroke-width="1" />
  <text x="405" y="165" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">バック</text>
  <text x="405" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">エンド</text>

  <line x1="430" y1="160" x2="450" y2="160" stroke="#3b82f6" stroke-width="1.5" />
  <polygon points="445,157 450,160 445,163" fill="#3b82f6" />

  <rect x="450" y="130" width="40" height="60" rx="5" fill="#eff6ff" stroke="#3b82f6" stroke-width="1" />
  <text x="470" y="165" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">AI</text>
  <text x="470" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">API</text>

  <text x="310" y="210" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• セキュアなAPI呼び出し</text>
  <text x="310" y="230" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• キャッシングや前処理が可能</text>
  <text x="310" y="250" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• レート制限やコスト管理の実装</text>
  <text x="310" y="270" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 本番環境のベストプラクティス</text>

  <!-- パターン3: ハイブリッドアプローチ -->
  <rect x="530" y="80" width="220" height="200" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="2" />
  <text x="640" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle"
    fill="#22c55e">拡張バックエンドパターン</text>

  <rect x="550" y="130" width="40" height="60" rx="5" fill="#f0fdf4" stroke="#22c55e" stroke-width="1" />
  <text x="570" y="165" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">フロント</text>
  <text x="570" y="180" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">エンド</text>

  <line x1="590" y1="160" x2="610" y2="160" stroke="#22c55e" stroke-width="1.5" />
  <polygon points="605,157 610,160 605,163" fill="#22c55e" />

  <rect x="610" y="130" width="60" height="60" rx="5" fill="#f0fdf4" stroke="#22c55e" stroke-width="1" />
  <text x="640" y="155" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">バック</text>
  <text x="640" y="170" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">エンド</text>
  <text x="640" y="185" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">プロキシ</text>

  <line x1="640" y1="190" x2="640" y2="210" stroke="#22c55e" stroke-width="1.5" />
  <polygon points="637,205 640,210 643,205" fill="#22c55e" />

  <rect x="610" y="210" width="60" height="25" rx="5" fill="#f0fdf4" stroke="#22c55e" stroke-width="1" />
  <text x="640" y="227" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">AI API A</text>

  <rect x="680" y="170" width="60" height="25" rx="5" fill="#f0fdf4" stroke="#22c55e" stroke-width="1" />
  <text x="710" y="187" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">AI API B</text>

  <rect x="680" y="130" width="60" height="25" rx="5" fill="#f0fdf4" stroke="#22c55e" stroke-width="1" />
  <text x="710" y="147" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">DB/自社API</text>

  <line x1="670" y1="160" x2="680" y2="145" stroke="#22c55e" stroke-width="1" />
  <polygon points="675,147 680,145 678,152" fill="#22c55e" />

  <line x1="670" y1="160" x2="680" y2="180" stroke="#22c55e" stroke-width="1" />
  <polygon points="675,177 680,180 678,173" fill="#22c55e" />

  <text x="550" y="250" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 複数のAI APIの抽象化と統合</text>
  <text x="550" y="270" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 追加ロジックとブレンディング</text>

  <!-- パターン4: RAG統合 -->
  <rect x="50" y="300" width="340" height="230" rx="10" fill="#f3e8ff" stroke="#9333ea" stroke-width="2" />
  <text x="220" y="330" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle"
    fill="#9333ea">検索拡張生成（RAG）パターン</text>

  <rect x="70" y="360" width="60" height="40" rx="5" fill="#f5f3ff" stroke="#9333ea" stroke-width="1" />
  <text x="100" y="385" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">クエリ</text>

  <line x1="130" y1="380" x2="150" y2="380" stroke="#9333ea" stroke-width="1.5" />
  <polygon points="145,377 150,380 145,383" fill="#9333ea" />

  <rect x="150" y="360" width="70" height="40" rx="5" fill="#f5f3ff" stroke="#9333ea" stroke-width="1" />
  <text x="185" y="385" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">ベクトル検索</text>

  <line x1="220" y1="380" x2="240" y2="380" stroke="#9333ea" stroke-width="1.5" />
  <polygon points="235,377 240,380 235,383" fill="#9333ea" />

  <rect x="240" y="360" width="130" height="40" rx="5" fill="#f5f3ff" stroke="#9333ea" stroke-width="1" />
  <text x="305" y="385" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">LLM（コンテキスト付き）</text>

  <rect x="70" y="410" width="130" height="50" rx="0" fill="none" stroke="#9333ea" stroke-width="1"
    stroke-dasharray="5,5" />
  <text x="135" y="435" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">ベクトルデータベース</text>

  <rect x="210" y="410" width="160" height="50" rx="0" fill="none" stroke="#9333ea" stroke-width="1"
    stroke-dasharray="5,5" />
  <text x="290" y="435" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">AI APIプロバイダー</text>

  <line x1="160" y1="400" x2="130" y2="410" stroke="#9333ea" stroke-width="1" stroke-dasharray="3,3" />
  <line x1="280" y1="400" x2="280" y2="410" stroke="#9333ea" stroke-width="1" stroke-dasharray="3,3" />

  <text x="70" y="480" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 独自データで検索拡張したAI応答</text>
  <text x="70" y="500" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 最新情報や非公開情報への対応</text>
  <text x="70" y="520" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 幻覚の低減と事実に基づく回答</text>

  <!-- パターン5: エージェントパターン -->
  <rect x="410" y="300" width="340" height="230" rx="10" fill="#fee2e2" stroke="#ef4444" stroke-width="2" />
  <text x="580" y="330" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle"
    fill="#ef4444">AIエージェントパターン</text>

  <rect x="430" y="360" width="300" height="70" rx="5" fill="#fef2f2" stroke="#ef4444" stroke-width="1" />
  <text x="580" y="380" font-family="Arial, sans-serif" font-size="14" font-weight="bold"
    text-anchor="middle">AIオーケストレーター</text>
  <text x="580" y="400" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">タスク計画・分解・実行制御</text>
  <text x="580" y="420" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">(LLMベース)</text>

  <rect x="440" y="450" width="80" height="40" rx="5" fill="#fef2f2" stroke="#ef4444" stroke-width="1" />
  <text x="480" y="475" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">データツール</text>

  <rect x="540" y="450" width="80" height="40" rx="5" fill="#fef2f2" stroke="#ef4444" stroke-width="1" />
  <text x="580" y="475" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Web検索</text>

  <rect x="640" y="450" width="80" height="40" rx="5" fill="#fef2f2" stroke="#ef4444" stroke-width="1" />
  <text x="680" y="475" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">API呼出</text>

  <line x1="480" y1="430" x2="480" y2="450" stroke="#ef4444" stroke-width="1.5" />
  <polygon points="477,445 480,450 483,445" fill="#ef4444" />

  <line x1="580" y1="430" x2="580" y2="450" stroke="#ef4444" stroke-width="1.5" />
  <polygon points="577,445 580,450 583,445" fill="#ef4444" />

  <line x1="680" y1="430" x2="680" y2="450" stroke="#ef4444" stroke-width="1.5" />
  <polygon points="677,445 680,450 683,445" fill="#ef4444" />

  <text x="430" y="510" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• 複雑なタスクを自律的に実行</text>
  <text x="430" y="530" font-family="Arial, sans-serif" font-size="12" text-anchor="start">• マルチツール・マルチステップ処理</text>
</svg>
