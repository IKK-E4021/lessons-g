<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <!-- 定義 -->
  <defs>
    <linearGradient id="pageGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="freeGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#30cfd0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#330867;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- 背景 -->
  <rect width="900" height="700" fill="#f8f9fa"/>
  
  <!-- タイトル -->
  <text x="450" y="40" text-anchor="middle" fill="#2c3e50" font-size="26" font-weight="bold">
    ページ/ブロックの内部構造
  </text>
  
  <!-- 左側：ページ全体の構造 -->
  <g transform="translate(100, 100)">
    <text x="150" y="-10" text-anchor="middle" font-size="20" fill="#2c3e50" font-weight="bold">
      8KBページの構造
    </text>
    
    <rect width="300" height="500" fill="url(#pageGrad)" rx="15" filter="url(#shadow)"/>
    
    <!-- ページヘッダー -->
    <g transform="translate(20, 20)">
      <rect width="260" height="80" fill="url(#headerGrad)" rx="10"/>
      <text x="130" y="25" text-anchor="middle" fill="white" font-size="16" font-weight="bold">
        ページヘッダー (約100バイト)
      </text>
      <text x="130" y="45" text-anchor="middle" fill="white" font-size="12">
        • ページID: 00001234
      </text>
      <text x="130" y="60" text-anchor="middle" fill="white" font-size="12">
        • チェックサム: 0xABCD
      </text>
      <text x="130" y="75" text-anchor="middle" fill="white" font-size="12">
        • 空き領域ポインタ: 5432
      </text>
    </g>
    
    <!-- 行データ領域 -->
    <g transform="translate(20, 120)">
      <rect width="260" height="250" fill="url(#dataGrad)" rx="10"/>
      <text x="130" y="25" text-anchor="middle" fill="white" font-size="16" font-weight="bold">
        行データ領域
      </text>
      
      <!-- 個別の行 -->
      <g transform="translate(10, 40)">
        <rect width="240" height="35" fill="white" rx="5" opacity="0.9"/>
        <text x="120" y="23" text-anchor="middle" font-size="11" fill="#2c3e50">
          行1: ID=1001, Name="田中太郎", Age=30
        </text>
      </g>
      <g transform="translate(10, 85)">
        <rect width="240" height="35" fill="white" rx="5" opacity="0.9"/>
        <text x="120" y="23" text-anchor="middle" font-size="11" fill="#2c3e50">
          行2: ID=1002, Name="佐藤花子", Age=25
        </text>
      </g>
      <g transform="translate(10, 130)">
        <rect width="240" height="35" fill="white" rx="5" opacity="0.9"/>
        <text x="120" y="23" text-anchor="middle" font-size="11" fill="#2c3e50">
          行3: ID=1003, Name="鈴木一郎", Age=45
        </text>
      </g>
      <g transform="translate(10, 175)">
        <rect width="240" height="35" fill="white" rx="5" opacity="0.9"/>
        <text x="120" y="23" text-anchor="middle" font-size="11" fill="#2c3e50">
          行4: ID=1004, Name="高橋美咲", Age=28
        </text>
      </g>
    </g>
    
    <!-- 空き領域 -->
    <g transform="translate(20, 390)">
      <rect width="260" height="60" fill="url(#freeGrad)" rx="10" opacity="0.5"/>
      <text x="130" y="35" text-anchor="middle" fill="white" font-size="16" font-weight="bold">
        空き領域 (2.5KB)
      </text>
    </g>
    
    <!-- 行ディレクトリ -->
    <g transform="translate(20, 460)">
      <rect width="260" height="30" fill="#e74c3c" rx="5"/>
      <text x="130" y="20" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
        行ディレクトリ (行位置情報)
      </text>
    </g>
  </g>
  
  <!-- 右側：詳細説明 -->
  <g transform="translate(500, 100)">
    <text x="150" y="-10" text-anchor="middle" font-size="20" fill="#2c3e50" font-weight="bold">
      ページサイズの比較
    </text>
    
    <!-- PostgreSQL -->
    <g transform="translate(0, 30)">
      <rect width="300" height="80" fill="#336791" rx="10" filter="url(#shadow)"/>
      <text x="20" y="30" fill="white" font-size="18" font-weight="bold">PostgreSQL</text>
      <text x="20" y="50" fill="white" font-size="14">デフォルト: 8KB</text>
      <text x="20" y="65" fill="white" font-size="12">設定可能: 4KB, 8KB, 16KB, 32KB</text>
    </g>
    
    <!-- MySQL -->
    <g transform="translate(0, 130)">
      <rect width="300" height="80" fill="#4479A1" rx="10" filter="url(#shadow)"/>
      <text x="20" y="30" fill="white" font-size="18" font-weight="bold">MySQL (InnoDB)</text>
      <text x="20" y="50" fill="white" font-size="14">デフォルト: 16KB</text>
      <text x="20" y="65" fill="white" font-size="12">設定可能: 4KB, 8KB, 16KB, 32KB, 64KB</text>
    </g>
    
    <!-- Oracle -->
    <g transform="translate(0, 230)">
      <rect width="300" height="80" fill="#F80000" rx="10" filter="url(#shadow)"/>
      <text x="20" y="30" fill="white" font-size="18" font-weight="bold">Oracle Database</text>
      <text x="20" y="50" fill="white" font-size="14">デフォルト: 8KB</text>
      <text x="20" y="65" fill="white" font-size="12">設定可能: 2KB〜32KB</text>
    </g>
    
    <!-- I/O効率の説明 -->
    <g transform="translate(0, 350)">
      <rect width="300" height="150" fill="#ecf0f1" rx="10" filter="url(#shadow)"/>
      <text x="150" y="25" text-anchor="middle" font-size="16" fill="#2c3e50" font-weight="bold">
        なぜ固定サイズ？
      </text>
      <text x="20" y="50" font-size="13" fill="#2c3e50">📌 ディスクI/Oの最適化</text>
      <text x="35" y="70" font-size="12" fill="#7f8c8d">一度の読み書きで効率的にデータ取得</text>
      <text x="20" y="95" font-size="13" fill="#2c3e50">📌 バッファ管理の簡素化</text>
      <text x="35" y="115" font-size="12" fill="#7f8c8d">メモリ上で固定サイズのスロット管理</text>
      <text x="20" y="140" font-size="13" fill="#2c3e50">📌 アドレス計算の高速化</text>
    </g>
  </g>
  
  <!-- 下部：ページ内のデータ配置 -->
  <g transform="translate(100, 630)">
    <rect width="700" height="50" fill="#34495e" rx="10" filter="url(#shadow)"/>
    <text x="350" y="20" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
      重要ポイント
    </text>
    <text x="350" y="40" text-anchor="middle" fill="white" font-size="12">
      行の挿入は空き領域の先頭から、行ディレクトリは末尾から成長し、中央で出会う設計
    </text>
  </g>
</svg>