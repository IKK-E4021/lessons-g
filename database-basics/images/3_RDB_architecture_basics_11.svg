<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <!-- 定義 -->
  <defs>
    <linearGradient id="clusteredGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="nonClusteredGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#229954;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- 背景 -->
  <rect width="900" height="700" fill="#f8f9fa"/>
  
  <!-- タイトル -->
  <text x="450" y="40" text-anchor="middle" fill="#2c3e50" font-size="26" font-weight="bold">
    クラスタ化インデックス vs 非クラスタ化インデックス
  </text>
  
  <!-- クラスタ化インデックス -->
  <g transform="translate(50, 100)">
    <text x="200" y="0" text-anchor="middle" font-size="20" fill="#e74c3c" font-weight="bold">
      クラスタ化インデックス
    </text>
    
    <!-- B-Tree構造 -->
    <g transform="translate(50, 30)">
      <!-- ルート -->
      <rect x="100" y="0" width="100" height="40" fill="url(#clusteredGrad)" rx="8" filter="url(#shadow)"/>
      <text x="150" y="25" text-anchor="middle" fill="white" font-size="14">ID: 100</text>
      
      <!-- 内部ノード -->
      <rect x="20" y="70" width="80" height="35" fill="url(#clusteredGrad)" rx="6" filter="url(#shadow)"/>
      <text x="60" y="92" text-anchor="middle" fill="white" font-size="12">ID: 50</text>
      
      <rect x="120" y="70" width="80" height="35" fill="url(#clusteredGrad)" rx="6" filter="url(#shadow)"/>
      <text x="160" y="92" text-anchor="middle" fill="white" font-size="12">ID: 150</text>
      
      <rect x="220" y="70" width="80" height="35" fill="url(#clusteredGrad)" rx="6" filter="url(#shadow)"/>
      <text x="260" y="92" text-anchor="middle" fill="white" font-size="12">ID: 200</text>
      
      <!-- リーフ（データ含む） -->
      <rect x="0" y="140" width="300" height="120" fill="url(#dataGrad)" rx="10" filter="url(#shadow)"/>
      <text x="150" y="160" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
        リーフノード = データページ
      </text>
      <line x1="10" y1="170" x2="290" y2="170" stroke="white" stroke-width="1"/>
      
      <rect x="10" y="180" width="280" height="20" fill="white" rx="5" opacity="0.9"/>
      <text x="150" y="195" text-anchor="middle" font-size="11" fill="#2c3e50">
        ID:1 | Name:"田中" | Age:30 | Dept:"営業"
      </text>
      
      <rect x="10" y="205" width="280" height="20" fill="white" rx="5" opacity="0.9"/>
      <text x="150" y="220" text-anchor="middle" font-size="11" fill="#2c3e50">
        ID:2 | Name:"佐藤" | Age:25 | Dept:"開発"
      </text>
      
      <rect x="10" y="230" width="280" height="20" fill="white" rx="5" opacity="0.9"/>
      <text x="150" y="245" text-anchor="middle" font-size="11" fill="#2c3e50">
        ID:3 | Name:"鈴木" | Age:45 | Dept:"人事"
      </text>
    </g>
    
    <!-- 接続線 -->
    <line x1="150" y1="70" x2="60" y2="100" stroke="#c0392b" stroke-width="2"/>
    <line x1="200" y1="70" x2="210" y2="100" stroke="#c0392b" stroke-width="2"/>
    <line x1="250" y1="70" x2="310" y2="100" stroke="#c0392b" stroke-width="2"/>
    
    <line x1="60" y1="135" x2="60" y2="170" stroke="#c0392b" stroke-width="2"/>
    <line x1="210" y1="135" x2="150" y2="170" stroke="#c0392b" stroke-width="2"/>
    
    <!-- 特徴 -->
    <g transform="translate(0, 280)">
      <rect width="300" height="120" fill="#ffebee" rx="10" filter="url(#shadow)"/>
      <text x="150" y="25" text-anchor="middle" font-size="16" fill="#c0392b" font-weight="bold">
        特徴
      </text>
      <text x="15" y="45" font-size="12" fill="#2c3e50">• データがキー順に物理的に並ぶ</text>
      <text x="15" y="65" font-size="12" fill="#2c3e50">• テーブルに1つのみ作成可能</text>
      <text x="15" y="85" font-size="12" fill="#2c3e50">• 範囲検索が非常に高速</text>
      <text x="15" y="105" font-size="12" fill="#2c3e50">• 追加のデータアクセス不要</text>
    </g>
  </g>
  
  <!-- 非クラスタ化インデックス -->
  <g transform="translate(500, 100)">
    <text x="175" y="0" text-anchor="middle" font-size="20" fill="#3498db" font-weight="bold">
      非クラスタ化インデックス
    </text>
    
    <!-- B-Tree構造 -->
    <g transform="translate(25, 30)">
      <!-- ルート -->
      <rect x="100" y="0" width="100" height="40" fill="url(#nonClusteredGrad)" rx="8" filter="url(#shadow)"/>
      <text x="150" y="25" text-anchor="middle" fill="white" font-size="14">Name: N</text>
      
      <!-- 内部ノード -->
      <rect x="20" y="70" width="80" height="35" fill="url(#nonClusteredGrad)" rx="6" filter="url(#shadow)"/>
      <text x="60" y="92" text-anchor="middle" fill="white" font-size="12">Name: G</text>
      
      <rect x="120" y="70" width="80" height="35" fill="url(#nonClusteredGrad)" rx="6" filter="url(#shadow)"/>
      <text x="160" y="92" text-anchor="middle" fill="white" font-size="12">Name: S</text>
      
      <rect x="220" y="70" width="80" height="35" fill="url(#nonClusteredGrad)" rx="6" filter="url(#shadow)"/>
      <text x="260" y="92" text-anchor="middle" fill="white" font-size="12">Name: Y</text>
      
      <!-- リーフ（ポインタのみ） -->
      <rect x="0" y="140" width="300" height="80" fill="#e3f2fd" rx="10" filter="url(#shadow)"/>
      <text x="150" y="160" text-anchor="middle" fill="#2980b9" font-size="14" font-weight="bold">
        リーフノード（ポインタ）
      </text>
      <line x1="10" y1="170" x2="290" y2="170" stroke="#2980b9" stroke-width="1"/>
      
      <text x="50" y="190" font-size="11" fill="#2c3e50">"佐藤" → ID:2</text>
      <text x="150" y="190" font-size="11" fill="#2c3e50">"鈴木" → ID:3</text>
      <text x="250" y="190" font-size="11" fill="#2c3e50">"田中" → ID:1</text>
      <text x="50" y="210" font-size="11" fill="#2c3e50">"山田" → ID:5</text>
      <text x="150" y="210" font-size="11" fill="#2c3e50">"渡辺" → ID:4</text>
    </g>
    
    <!-- 接続線 -->
    <line x1="175" y1="70" x2="85" y2="100" stroke="#3498db" stroke-width="2"/>
    <line x1="225" y1="70" x2="235" y2="100" stroke="#3498db" stroke-width="2"/>
    <line x1="275" y1="70" x2="335" y2="100" stroke="#3498db" stroke-width="2"/>
    
    <line x1="85" y1="135" x2="85" y2="170" stroke="#3498db" stroke-width="2"/>
    <line x1="235" y1="135" x2="175" y2="170" stroke="#3498db" stroke-width="2"/>
    
    <!-- データページ（別途） -->
    <g transform="translate(0, 250)">
      <rect width="300" height="80" fill="url(#dataGrad)" rx="10" filter="url(#shadow)"/>
      <text x="150" y="20" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
        データページ（ヒープ）
      </text>
      <line x1="10" y1="30" x2="290" y2="30" stroke="white" stroke-width="1"/>
      
      <text x="15" y="50" font-size="11" fill="white">ID:2 | Name:"佐藤" | Age:25 | Dept:"開発"</text>
      <text x="15" y="70" font-size="11" fill="white">ID:5 | Name:"山田" | Age:35 | Dept:"総務"</text>
    </g>
    
    <!-- ポインタ矢印 -->
    <path d="M 100 220 L 100 250" stroke="#e74c3c" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
    <defs>
      <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <path d="M0,0 L0,6 L9,3 z" fill="#e74c3c" />
      </marker>
    </defs>
    
    <!-- 特徴 -->
    <g transform="translate(0, 350)">
      <rect width="300" height="120" fill="#e3f2fd" rx="10" filter="url(#shadow)"/>
      <text x="150" y="25" text-anchor="middle" font-size="16" fill="#3498db" font-weight="bold">
        特徴
      </text>
      <text x="15" y="45" font-size="12" fill="#2c3e50">• インデックスとデータが分離</text>
      <text x="15" y="65" font-size="12" fill="#2c3e50">• 複数作成可能</text>
      <text x="15" y="85" font-size="12" fill="#2c3e50">• ポイント検索に適している</text>
      <text x="15" y="105" font-size="12" fill="#2c3e50">• データアクセスに追加I/O必要</text>
    </g>
  </g>
  
  <!-- 比較まとめ -->
  <g transform="translate(100, 530)">
    <rect width="700" height="130" fill="#34495e" rx="15" filter="url(#shadow)"/>
    <text x="350" y="30" text-anchor="middle" fill="white" font-size="18" font-weight="bold">
      使い分けのポイント
    </text>
    
    <g transform="translate(20, 50)">
      <rect width="320" height="60" fill="#c0392b" rx="8" opacity="0.8"/>
      <text x="160" y="20" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
        クラスタ化インデックス向き
      </text>
      <text x="160" y="40" text-anchor="middle" fill="white" font-size="12">
        • 主キー（ID）での検索が多い
      </text>
      <text x="160" y="55" text-anchor="middle" fill="white" font-size="12">
        • 範囲検索（BETWEEN）が頻繁
      </text>
    </g>
    
    <g transform="translate(360, 50)">
      <rect width="320" height="60" fill="#2980b9" rx="8" opacity="0.8"/>
      <text x="160" y="20" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
        非クラスタ化インデックス向き
      </text>
      <text x="160" y="40" text-anchor="middle" fill="white" font-size="12">
        • 複数の検索条件が必要
      </text>
      <text x="160" y="55" text-anchor="middle" fill="white" font-size="12">
        • カバリングインデックスの作成
      </text>
    </g>
  </g>
</svg>