<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <!-- 定義 -->
  <defs>
    <linearGradient id="webAppGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="mobileGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="batchGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbServerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fa709a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fee140;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="poolGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#a8edea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fed6e3;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- 背景 -->
  <rect width="900" height="700" fill="#f8f9fa"/>
  
  <!-- タイトル -->
  <text x="450" y="40" text-anchor="middle" fill="#2c3e50" font-size="28" font-weight="bold">
    複数クライアントの同時接続
  </text>
  
  <!-- Webアプリケーション -->
  <g transform="translate(50, 100)">
    <rect width="160" height="120" fill="url(#webAppGrad)" rx="15" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" fill="white" font-size="16" font-weight="bold">
      Webアプリ
    </text>
    <rect x="30" y="40" width="100" height="60" fill="white" rx="5" opacity="0.9"/>
    <text x="80" y="60" text-anchor="middle" font-size="12" fill="#2c3e50">ユーザー: 1000</text>
    <text x="80" y="80" text-anchor="middle" font-size="12" fill="#2c3e50">同時接続: 50</text>
  </g>
  
  <!-- モバイルアプリ -->
  <g transform="translate(50, 290)">
    <rect width="160" height="120" fill="url(#mobileGrad)" rx="15" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" fill="white" font-size="16" font-weight="bold">
      モバイルアプリ
    </text>
    <rect x="30" y="40" width="100" height="60" fill="white" rx="5" opacity="0.9"/>
    <text x="80" y="60" text-anchor="middle" font-size="12" fill="#2c3e50">ユーザー: 5000</text>
    <text x="80" y="80" text-anchor="middle" font-size="12" fill="#2c3e50">同時接続: 100</text>
  </g>
  
  <!-- バッチ処理 -->
  <g transform="translate(50, 480)">
    <rect width="160" height="120" fill="url(#batchGrad)" rx="15" filter="url(#shadow)"/>
    <text x="80" y="25" text-anchor="middle" fill="white" font-size="16" font-weight="bold">
      バッチ処理
    </text>
    <rect x="30" y="40" width="100" height="60" fill="white" rx="5" opacity="0.9"/>
    <text x="80" y="60" text-anchor="middle" font-size="12" fill="#2c3e50">定期実行</text>
    <text x="80" y="80" text-anchor="middle" font-size="12" fill="#2c3e50">同時接続: 10</text>
  </g>
  
  <!-- コネクションプール -->
  <g transform="translate(350, 200)">
    <rect width="200" height="300" fill="url(#poolGrad)" rx="20" filter="url(#shadow)"/>
    <text x="100" y="30" text-anchor="middle" fill="#2c3e50" font-size="18" font-weight="bold">
      コネクションプール
    </text>
    
    <!-- プール内の接続 -->
    <g transform="translate(20, 60)">
      <!-- アクティブ接続 -->
      <text x="80" y="0" text-anchor="middle" font-size="12" fill="#2c3e50">アクティブ: 60</text>
      <rect x="10" y="10" width="30" height="30" fill="#2ecc71" rx="5"/>
      <rect x="50" y="10" width="30" height="30" fill="#2ecc71" rx="5"/>
      <rect x="90" y="10" width="30" height="30" fill="#2ecc71" rx="5"/>
      <rect x="130" y="10" width="30" height="30" fill="#2ecc71" rx="5"/>
      
      <!-- アイドル接続 -->
      <text x="80" y="70" text-anchor="middle" font-size="12" fill="#2c3e50">アイドル: 40</text>
      <rect x="10" y="80" width="30" height="30" fill="#95a5a6" rx="5"/>
      <rect x="50" y="80" width="30" height="30" fill="#95a5a6" rx="5"/>
      <rect x="90" y="80" width="30" height="30" fill="#95a5a6" rx="5"/>
      <rect x="130" y="80" width="30" height="30" fill="#95a5a6" rx="5"/>
      
      <!-- プール設定 -->
      <rect x="10" y="140" width="150" height="80" fill="white" rx="10" opacity="0.9"/>
      <text x="85" y="160" text-anchor="middle" font-size="12" fill="#2c3e50" font-weight="bold">プール設定</text>
      <text x="85" y="180" text-anchor="middle" font-size="11" fill="#2c3e50">最小: 20</text>
      <text x="85" y="195" text-anchor="middle" font-size="11" fill="#2c3e50">最大: 100</text>
      <text x="85" y="210" text-anchor="middle" font-size="11" fill="#2c3e50">タイムアウト: 30秒</text>
    </g>
  </g>
  
  <!-- データベースサーバー -->
  <g transform="translate(650, 250)">
    <rect width="200" height="200" fill="url(#dbServerGrad)" rx="20" filter="url(#shadow)"/>
    <text x="100" y="30" text-anchor="middle" fill="white" font-size="18" font-weight="bold">
      DBサーバー
    </text>
    
    <g transform="translate(20, 60)">
      <rect width="160" height="120" fill="white" rx="10" opacity="0.9"/>
      <text x="80" y="20" text-anchor="middle" font-size="14" fill="#2c3e50" font-weight="bold">接続状態</text>
      <text x="80" y="40" text-anchor="middle" font-size="12" fill="#2c3e50">最大接続数: 200</text>
      <text x="80" y="60" text-anchor="middle" font-size="12" fill="#2c3e50">使用中: 60</text>
      <text x="80" y="80" text-anchor="middle" font-size="12" fill="#2c3e50">空き: 140</text>
      
      <!-- 使用率バー -->
      <rect x="20" y="95" width="120" height="15" fill="#ecf0f1" rx="7"/>
      <rect x="20" y="95" width="36" height="15" fill="#2ecc71" rx="7"/>
      <text x="80" y="107" text-anchor="middle" font-size="10" fill="#2c3e50">30%</text>
    </g>
  </g>
  
  <!-- 接続線 -->
  <!-- Webアプリ → プール -->
  <path d="M 210 160 Q 280 160 350 260" stroke="#667eea" stroke-width="3" fill="none" opacity="0.7"/>
  
  <!-- モバイル → プール -->
  <path d="M 210 350 L 350 350" stroke="#f5576c" stroke-width="3" fill="none" opacity="0.7"/>
  
  <!-- バッチ → プール -->
  <path d="M 210 540 Q 280 540 350 440" stroke="#00f2fe" stroke-width="3" fill="none" opacity="0.7"/>
  
  <!-- プール → DB -->
  <path d="M 550 350 L 650 350" stroke="#2c3e50" stroke-width="4" fill="none" opacity="0.7"/>
  
  <!-- 凡例 -->
  <g transform="translate(50, 650)">
    <rect x="0" y="0" width="20" height="20" fill="#2ecc71" rx="3"/>
    <text x="30" y="15" font-size="12" fill="#2c3e50">アクティブ接続</text>
    
    <rect x="150" y="0" width="20" height="20" fill="#95a5a6" rx="3"/>
    <text x="180" y="15" font-size="12" fill="#2c3e50">アイドル接続</text>
  </g>
</svg>