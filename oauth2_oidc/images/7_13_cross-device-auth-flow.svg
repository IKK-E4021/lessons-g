<svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="900" height="700" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-size="22" font-weight="bold" fill="#2c3e50">クロスデバイス認証フロー</text>
  
  <!-- Scenario Setup -->
  <g transform="translate(50, 80)">
    <text x="0" y="0" font-size="16" font-weight="bold" fill="#2c3e50">シナリオ: PCでログイン → スマートフォンで認証</text>
  </g>
  
  <!-- PC Side -->
  <g transform="translate(50, 120)">
    <rect width="350" height="500" rx="10" fill="#f8f9fa" stroke="#666" stroke-width="2"/>
    <text x="175" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">PC (認証を要求)</text>
    
    <!-- Step 1 -->
    <g transform="translate(20, 50)">
      <rect width="310" height="80" rx="10" fill="#fff" stroke="#3498db" stroke-width="2"/>
      <text x="155" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#3498db">1. ログイン画面</text>
      
      <rect x="75" y="40" width="160" height="30" rx="5" fill="#3498db"/>
      <text x="155" y="58" text-anchor="middle" font-size="12" fill="white">パスキーでログイン</text>
    </g>
    
    <!-- Step 2 -->
    <g transform="translate(20, 150)">
      <rect width="310" height="120" rx="10" fill="#fff" stroke="#9b59b6" stroke-width="2"/>
      <text x="155" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#9b59b6">2. 認証オプション</text>
      
      <rect x="20" y="40" width="270" height="30" rx="5" fill="#f3e5f5" stroke="#9b59b6"/>
      <text x="155" y="58" text-anchor="middle" font-size="11" fill="#2c3e50">📱 別のデバイスから認証</text>
      
      <rect x="20" y="75" width="270" height="30" rx="5" fill="#fff" stroke="#ddd"/>
      <text x="155" y="93" text-anchor="middle" font-size="11" fill="#999">💻 このデバイスで認証</text>
    </g>
    
    <!-- Step 3 -->
    <g transform="translate(20, 290)">
      <rect width="310" height="180" rx="10" fill="#fff" stroke="#f39c12" stroke-width="2"/>
      <text x="155" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#f39c12">3. QRコード表示</text>
      
      <!-- QR Code -->
      <rect x="105" y="40" width="100" height="100" fill="#000"/>
      <rect x="115" y="50" width="20" height="20" fill="#fff"/>
      <rect x="175" y="50" width="20" height="20" fill="#fff"/>
      <rect x="115" y="110" width="20" height="20" fill="#fff"/>
      <rect x="145" y="80" width="20" height="20" fill="#fff"/>
      
      <text x="155" y="160" text-anchor="middle" font-size="11" fill="#666">スマートフォンでスキャン</text>
    </g>
  </g>
  
  <!-- Phone Side -->
  <g transform="translate(500, 120)">
    <rect width="350" height="500" rx="10" fill="#f8f9fa" stroke="#666" stroke-width="2"/>
    <text x="175" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#2c3e50">スマートフォン (認証を実行)</text>
    
    <!-- Step 1 -->
    <g transform="translate(20, 50)">
      <rect width="310" height="80" rx="10" fill="#fff" stroke="#27ae60" stroke-width="2"/>
      <text x="155" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#27ae60">4. QRスキャン</text>
      
      <rect x="75" y="40" width="160" height="30" rx="5" fill="#e8f5e9" stroke="#27ae60"/>
      <text x="155" y="58" text-anchor="middle" font-size="12" fill="#27ae60">📷 カメラ起動</text>
    </g>
    
    <!-- Step 2 -->
    <g transform="translate(20, 150)">
      <rect width="310" height="120" rx="10" fill="#fff" stroke="#e74c3c" stroke-width="2"/>
      <text x="155" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#e74c3c">5. 認証確認</text>
      
      <text x="155" y="50" text-anchor="middle" font-size="12" fill="#2c3e50">idp.example.com</text>
      <text x="155" y="70" text-anchor="middle" font-size="11" fill="#666">へのログインを許可しますか？</text>
      
      <rect x="40" y="85" width="100" height="25" rx="5" fill="#27ae60"/>
      <text x="90" y="102" text-anchor="middle" font-size="11" fill="white">許可</text>
      
      <rect x="170" y="85" width="100" height="25" rx="5" fill="#fff" stroke="#e74c3c"/>
      <text x="220" y="102" text-anchor="middle" font-size="11" fill="#e74c3c">キャンセル</text>
    </g>
    
    <!-- Step 3 -->
    <g transform="translate(20, 290)">
      <rect width="310" height="180" rx="10" fill="#fff" stroke="#2ecc71" stroke-width="2"/>
      <text x="155" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#2ecc71">6. 生体認証</text>
      
      <!-- Biometric Icon -->
      <circle cx="155" cy="90" r="40" fill="#e8f5e9" stroke="#2ecc71" stroke-width="3"/>
      <text x="155" y="100" text-anchor="middle" font-size="30">👆</text>
      
      <text x="155" y="150" text-anchor="middle" font-size="12" fill="#2c3e50">Touch ID / Face ID</text>
      <text x="155" y="165" text-anchor="middle" font-size="11" fill="#666">で本人確認</text>
    </g>
  </g>
  
  <!-- Connection Arrows -->
  <g transform="translate(400, 350)">
    <path d="M0 0 Q50 0 100 0" stroke="#f39c12" stroke-width="3" stroke-dasharray="5,5"/>
    <text x="50" y="-10" text-anchor="middle" font-size="12" fill="#f39c12">Bluetooth/Network</text>
  </g>
  
  <!-- Success Messages -->
  <g transform="translate(50, 640)">
    <rect width="350" height="40" rx="20" fill="#2ecc71"/>
    <text x="175" y="25" text-anchor="middle" font-size="14" fill="white" font-weight="bold">✅ PC: ログイン成功</text>
  </g>
  
  <g transform="translate(500, 640)">
    <rect width="350" height="40" rx="20" fill="#2ecc71"/>
    <text x="175" y="25" text-anchor="middle" font-size="14" fill="white" font-weight="bold">✅ スマホ: 認証完了</text>
  </g>
</svg>