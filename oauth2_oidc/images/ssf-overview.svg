<svg viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="1000" height="700" fill="#f8f9fa"/>

    <!-- Title -->
    <text x="500" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
        SSF (Shared Signals Framework) 概要
    </text>

    <!-- Subtitle -->
    <text x="500" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#7f8c8d">
        セキュリティイベントの共有によるエコシステム全体のセキュリティ向上
    </text>

    <!-- SSF Hub (Central) -->
    <g id="ssf-hub">
        <circle cx="500" cy="350" r="80" fill="#3498db" stroke="#2980b9" stroke-width="3"/>
        <text x="500" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
            SSF Hub
        </text>
        <text x="500" y="358" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
            (Signal Router)
        </text>
        <text x="500" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
            SET配信・管理
        </text>
    </g>

    <!-- Service A (Transmitter) -->
    <g id="service-a">
        <rect x="120" y="200" width="120" height="80" rx="10" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
        <text x="180" y="230" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
            サービス A
        </text>
        <text x="180" y="248" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
            (Transmitter)
        </text>
        <text x="180" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
            不正ログイン検知
        </text>
    </g>

    <!-- Service B (Receiver) -->
    <g id="service-b">
        <rect x="760" y="200" width="120" height="80" rx="10" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="820" y="230" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
            サービス B
        </text>
        <text x="820" y="248" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
            (Receiver)
        </text>
        <text x="820" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
            リスク評価調整
        </text>
    </g>

    <!-- Service C (Receiver) -->
    <g id="service-c">
        <rect x="760" y="450" width="120" height="80" rx="10" fill="#27ae60" stroke="#229954" stroke-width="2"/>
        <text x="820" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
            サービス C
        </text>
        <text x="820" y="498" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
            (Receiver)
        </text>
        <text x="820" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
            追加認証要求
        </text>
    </g>

    <!-- Service D (Both) -->
    <g id="service-d">
        <rect x="120" y="450" width="120" height="80" rx="10" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
        <text x="180" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
            サービス D
        </text>
        <text x="180" y="498" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
            (Both)
        </text>
        <text x="180" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
            送受信両対応
        </text>
    </g>

    <!-- Arrows from Service A to Hub -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
        </marker>
    </defs>

    <!-- Arrow from A to Hub -->
    <line x1="240" y1="240" x2="420" y2="310" stroke="#e74c3c" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="320" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e74c3c" font-weight="bold">
        SET送信
    </text>

    <!-- Arrow from Hub to B -->
    <line x1="580" y1="310" x2="760" y2="240" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="680" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#27ae60" font-weight="bold">
        SET配信
    </text>

    <!-- Arrow from Hub to C -->
    <line x1="580" y1="390" x2="760" y2="490" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="680" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#27ae60" font-weight="bold">
        SET配信
    </text>

    <!-- Bidirectional arrow between D and Hub -->
    <line x1="240" y1="490" x2="420" y2="390" stroke="#9b59b6" stroke-width="3" marker-end="url(#arrowhead)"/>
    <line x1="420" y1="400" x2="240" y2="500" stroke="#9b59b6" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="320" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#9b59b6" font-weight="bold">
        双方向通信
    </text>

    <!-- Security Event Token (SET) explanation -->
    <g id="set-explanation">
        <rect x="300" y="550" width="400" height="120" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2"/>
        <text x="500" y="575" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">
            Security Event Token (SET)
        </text>

        <!-- SET content example -->
        <text x="320" y="600" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
            • イベントタイプ: account_credential_change_required
        </text>
        <text x="320" y="620" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
            • ユーザーID: user123@example.com
        </text>
        <text x="320" y="640" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
            • タイムスタンプ: 2025-01-27T10:30:00Z
        </text>
        <text x="320" y="660" font-family="Arial, sans-serif" font-size="11" fill="#34495e">
            • リスクレベル: HIGH
        </text>
    </g>

    <!-- Event types legend -->
    <g id="legend">
        <rect x="50" y="120" width="200" height="60" rx="5" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
        <text x="150" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#495057">
            主要イベントタイプ
        </text>
        <text x="60" y="158" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">
            • アカウント侵害検知
        </text>
        <text x="60" y="172" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">
            • 認証情報変更要求
        </text>
    </g>

    <!-- Benefits -->
    <g id="benefits">
        <rect x="750" y="120" width="200" height="60" rx="5" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
        <text x="850" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#495057">
            主要メリット
        </text>
        <text x="760" y="158" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">
            • エコシステム全体のセキュリティ向上
        </text>
        <text x="760" y="172" font-family="Arial, sans-serif" font-size="10" fill="#6c757d">
            • リアルタイムな脅威情報共有
        </text>
    </g>

    <!-- User icon -->
    <g id="user-icon">
        <circle cx="500" cy="120" r="15" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
        <text x="500" y="127" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">👤</text>
        <text x="500" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#34495e">
            同一ユーザー
        </text>
    </g>

    <!-- Flow indicator -->
    <text x="50" y="320" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e74c3c">
        1. 脅威検知
    </text>
    <text x="450" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3498db">
        2. 信号配信
    </text>
    <text x="850" y="320" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#27ae60">
        3. 対応実行
    </text>
</svg>